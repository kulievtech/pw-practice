<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Playwright Interactive Practice</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #eef2f7;
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
      }
      .container {
        width: 100%;
        max-width: 900px;
      }
      h2 {
        color: #5a2d82;
        margin-top: 40px;
        margin-bottom: 15px;
        font-size: 1.8rem;
        text-align: center;
      }
      form,
      .section {
        background: #fff;
        padding: 25px;
        border-radius: 12px;
        margin-bottom: 25px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      }
      input,
      select,
      button,
      textarea {
        font-size: 1rem;
      }
      input[type="text"],
      input[type="password"],
      input[type="email"],
      select,
      textarea {
        display: block;
        margin: 10px 0;
        padding: 12px 15px;
        width: 100%;
        border-radius: 8px;
        border: 1px solid #ccc;
      }
      input:focus,
      select:focus,
      textarea:focus {
        border-color: #764ba2;
        outline: none;
        box-shadow: 0 0 5px rgba(118, 75, 162, 0.3);
      }
      button {
        display: block;
        width: 100%;
        padding: 12px 15px;
        margin: 10px 0;
        background: #764ba2;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        transition: 0.3s;
      }
      button:hover {
        background: #5a2d82;
      }
      .checkbox-group label,
      .radio-group label {
        display: block;
        margin: 6px 0;
        cursor: pointer;
        font-weight: 500;
      }
      .checkbox-group input[type="checkbox"],
      .radio-group input[type="radio"] {
        margin-right: 8px;
        vertical-align: middle;
      }
      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 26px;
        margin: 10px 0;
      }
      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
        border-radius: 26px;
      }
      .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }
      input:checked + .slider {
        background-color: #764ba2;
      }
      input:checked + .slider:before {
        transform: translateX(24px);
      }
      .product-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .product-item {
        padding: 12px;
        margin: 8px 0;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: #fafafa;
        font-weight: 500;
        cursor: pointer;
        transition: 0.2s;
      }
      .product-item.selected {
        background: #764ba2;
        color: white;
        border-color: #5a2d82;
      }
      .menu {
        position: relative;
        display: inline-block;
        margin: 10px 0;
      }
      .submenu {
        display: none;
        position: absolute;
        background: #764ba2;
        color: white;
        padding: 10px;
        border-radius: 6px;
        top: 35px;
        left: 0;
        cursor: pointer;
        z-index: 10;
      }
      .menu:hover .submenu {
        display: block;
      }
      .output {
        margin-top: 10px;
        font-weight: bold;
        color: #333;
      }
      #searchOptions li {
        padding: 5px;
        cursor: pointer;
      }
      #searchOptions li:hover {
        background: #764ba2;
        color: white;
      }
      .drag-list {
        list-style: none;
        padding: 10px;
        min-height: 200px;
        background: #f1f1f1;
        border-radius: 10px;
        border: 2px dashed #ccc;
        transition: background 0.2s, border-color 0.2s;
      }
      .drag-item {
        padding: 12px;
        margin: 6px 0;
        background: #764ba2;
        color: white;
        border-radius: 8px;
        cursor: grab;
        user-select: none;
        transition: 0.2s;
      }
      .drag-item.dragging {
        opacity: 0.5;
      }
      .drag-list.over {
        border-color: #5a2d82;
        background: #e6d6f2;
      }
      .mouse-box,
      .dropzone {
        display: inline-block;
        text-align: center;
        line-height: 60px;
        border-radius: 8px;
        cursor: grab;
        user-select: none;
        margin: 5px;
      }
      .mouse-box {
        width: 60px;
        height: 60px;
        background: #3498db;
        color: white;
      }
      .dropzone {
        width: 100px;
        height: 100px;
        background: #f1c40f;
        color: #333;
        line-height: 100px;
      }
      @media (max-width: 900px) {
        form,
        .section {
          padding: 20px;
        }
      }
      #openNewTabBtn {
        background: #27ae60;
      }
      #openNewTabBtn:hover {
        background: #1e8449;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Login Form -->
      <h2 title="Login-form">Login Form</h2>
      <form id="loginForm">
        <input id="username" type="text" placeholder="Username" />
        <input type="password" id="password" placeholder="Password" />
        <input type="checkbox" id="rememberMe" checked /> Remember Me
        <select id="country">
          <option value="USA">USA</option>
          <option value="Canada">Canada</option>
          <option value="UK">UK</option>
          <option value="Germany">Germany</option>
        </select>
        <button type="submit">Login</button>
        <div class="output" id="loginMessage"></div>
      </form>

      <!-- Buttons Section -->
      <h2>Buttons</h2>
      <div class="section">
        <button id="btnClick">Click Me</button>
        <button id="btnDoubleClick">Double Click Me</button>
        <button id="disabledButton" disabled>Disabled Button</button>
        <div class="output" id="buttonOutput"></div>
      </div>

      <!-- Text Section -->
      <h2>Text Section</h2>
      <div class="section">
        <p id="textParagraph">This is a sample text for Playwright assertions.</p>
      </div>

      <!-- Form with Labels -->
      <h2>Form with Labels</h2>
      <form id="labelForm">
        <label for="email">Email</label>
        <input id="email" type="email" />
        <label for="pass">Password</label>
        <input id="pass" type="password" />
        <button type="submit">Submit Form</button>
        <div class="output" id="labelFormOutput"></div>
      </form>

      <!-- Search Box -->
      <h2>Search Box</h2>
      <div class="section">
        <input type="text" id="searchBox" placeholder="Search up your favorite fruit" />
        <ul id="searchOptions">
          <li>Apple</li>
          <li>Banana</li>
          <li>Cherry</li>
          <li>Date</li>
          <li>Elderberry</li>
          <li>Fig</li>
          <li>Grape</li>
        </ul>
        <div class="output" id="searchOutput"></div>
      </div>

      <!-- Checkboxes Section -->
      <h2>Checkboxes</h2>
      <div class="section checkbox-group">
        <label><input type="checkbox" value="Option 1" />Option 1</label>
        <label><input type="checkbox" value="Option 2" />Option 2</label>
        <label><input type="checkbox" value="Option 3" />Option 3</label>
        <div class="output" id="checkboxOutput"></div>
      </div>

      <!-- Radio Buttons Section -->
      <h2>Radio Buttons</h2>
      <div class="section radio-group">
        <label><input type="radio" name="choice" value="A" />Choice A</label>
        <label><input type="radio" name="choice" value="B" />Choice B</label>
        <div class="output" id="radioOutput"></div>
      </div>

      <!-- Dropdown Section -->
      <h2>Dropdown</h2>
      <div class="section">
        <select id="dropdownMenu">
          <option value="">Choose your favorite color</option>
          <option value="Red">Red</option>
          <option value="Green">Green</option>
          <option value="Blue">Blue</option>
          <option value="Yellow">Yellow</option>
        </select>
        <div class="output" id="dropdownOutput"></div>
      </div>

      <!-- Toggle Switch -->
      <h2>Toggle Switch</h2>
      <div class="section">
        <label class="toggle-switch">
          <input type="checkbox" id="toggleSwitch" />
          <span alt="toggle-switch" class="slider"></span>
        </label>
        <div class="output" id="toggleOutput"></div>
      </div>

      <!-- Textarea -->
      <h2>Textarea</h2>
      <div class="section">
        <textarea id="textArea" placeholder="Write something..." rows="4"></textarea>
        <div class="output" id="textareaOutput"></div>
      </div>

      <!-- Button with data-testid -->
      <h2>Button with data-testid</h2>
      <div class="section">
        <button data-testid="submit-button" id="testIdButton">Submit</button>
        <div class="output" id="testIdOutput"></div>
      </div>

      <!-- Product List -->
      <h2>Product List</h2>
      <div class="section">
        <input type="text" id="productSearch" placeholder="Filter products..." />
        <ul class="product-list" id="productList">
          <li class="product-item">Laptop</li>
          <li class="product-item">Phone</li>
          <li class="product-item">Tablet</li>
          <li class="product-item">Headphones</li>
          <li class="product-item">Keyboard</li>
        </ul>
        <div class="output" id="selectedProducts"></div>
      </div>

      <!-- Hover Menu -->
      <h2>Hover Menu</h2>
      <div class="section" style="position: relative">
        <div style="display: flex; align-items: center; gap: 10px">
          <div
            class="menu"
            style="
              display: inline-block;
              padding: 10px;
              background: #764ba2;
              color: white;
              border-radius: 6px;
              cursor: pointer;
            "
          >
            Hover Me
            <div class="submenu" id="submenuItem">Click Me</div>
          </div>
          <div class="output" id="hoverOutput">Hover to reveal submenu</div>
        </div>
      </div>

      <!-- Mouse Actions Section -->
      <h2>Mouse Actions</h2>
      <div class="section">
        <p>Drag the box into the drop zone using mouse or Playwright mouse actions:</p>
        <div style="position: relative; height: 150px">
          <div
            id="mouseBox"
            class="mouse-box"
            style="position: absolute; left: 0; top: 0"
          >
            Drag Me
          </div>
          <div
            id="dropZone"
            class="dropzone"
            style="position: absolute; right: 0; top: 0"
          >
            Drop Here
          </div>
        </div>
        <div class="output" id="mouseOutput">
          Drag the box into drop zone to see action.
        </div>
      </div>

      <!-- Todo Drag & Drop Section -->
      <h2>Todo Drag & Drop</h2>
      <div class="section" id="todoSection">
        <div style="display: flex; gap: 20px; flex-wrap: wrap">
          <div style="flex: 1; min-width: 200px">
            <h3>Todo</h3>
            <ul id="todoList" class="drag-list">
              <li class="drag-item" draggable="true">Buy groceries</li>
              <li class="drag-item" draggable="true">Clean the house</li>
              <li class="drag-item" draggable="true">Finish report</li>
            </ul>
          </div>
          <div style="flex: 1; min-width: 200px">
            <h3>Done</h3>
            <ul id="doneList" class="drag-list"></ul>
          </div>
        </div>
      </div>

      <!-- Keyboard Actions -->
      <h2>Keyboard Actions</h2>
      <div class="section">
        <input type="text" id="keyboardInput" placeholder="Type something..." />
        <div class="output" id="keyboardOutput">Typed text will appear here</div>
      </div>

      <!-- Waiting for Elements Section -->
      <h2>Waiting for Elements</h2>
      <div class="section" id="waitingSection">
        <p id="welcomeMessage" style="display: none">Welcome! Prepare to load data...</p>
        <button id="loadDataButton">Load Data</button>
        <div id="data" class="output"></div>
        <button id="nextStepButton" style="margin-top: 10px">Next Step</button>
      </div>

      <!-- New Tab Practice -->
      <h2>New Tab / Window</h2>
      <div class="section">
        <p>Click the button below to open a page in a new tab.</p>

        <button id="openNewTabBtn">Open Page in New Tab</button>

        <div class="output" id="newTabOutput"></div>
      </div>

      <!-- File Upload & Download Section -->
      <h2>File Upload & Download</h2>
      <div class="section">
        <!-- Upload -->
        <p>Upload one or more files to see their names displayed below:</p>
        <input type="file" id="fileUpload" multiple />
        <div class="output" id="uploadOutput">No file selected</div>

        <!-- Download -->
        <p style="margin-top: 20px">Click the button to download a sample file:</p>
        <button id="downloadBtn">Download Sample File</button>
        <div class="output" id="downloadOutput"></div>
      </div>
    </div>

    <script>
      // Login Form
      const loginForm = document.getElementById("loginForm");
      const loginMessage = document.getElementById("loginMessage");
      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const country = document.getElementById("country").value;
        const remember = document.getElementById("rememberMe").checked;
        loginMessage.textContent =
          username && password
            ? `Logged in as ${username} from ${country} ${
                remember ? "(Remember Me checked)" : ""
              }`
            : "Please enter username and password";
      });

      // Buttons
      const btnOutput = document.getElementById("buttonOutput");
      document
        .getElementById("btnClick")
        .addEventListener(
          "click",
          () => (btnOutput.textContent = "Click button clicked")
        );
      document
        .getElementById("btnDoubleClick")
        .addEventListener(
          "dblclick",
          () => (btnOutput.textContent = "Double click detected")
        );
      document
        .getElementById("disabledButton")
        .addEventListener(
          "click",
          () => (btnOutput.textContent = "Disabled button clicked")
        );

      // Form with Labels
      const labelForm = document.getElementById("labelForm");
      const labelFormOutput = document.getElementById("labelFormOutput");
      labelForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const email = document.getElementById("email").value;
        const pass = document.getElementById("pass").value;
        labelFormOutput.textContent =
          email && pass
            ? `Form submitted with email: ${email}`
            : "Please fill both fields";
      });

      // Search Box
      const searchBox = document.getElementById("searchBox");
      const searchOptions = Array.from(document.querySelectorAll("#searchOptions li"));
      const searchOutput = document.getElementById("searchOutput");
      searchBox.addEventListener("input", () => {
        const term = searchBox.value.toLowerCase();
        searchOptions.forEach(
          (li) =>
            (li.style.display = li.textContent.toLowerCase().includes(term) ? "" : "none")
        );
        searchOutput.textContent = term ? `Filtering for: ${term}` : "";
      });

      // Checkboxes
      const checkboxOutput = document.getElementById("checkboxOutput");
      const checkboxes = document.querySelectorAll(".checkbox-group input");
      checkboxes.forEach((c) =>
        c.addEventListener("change", () => {
          const selected = Array.from(checkboxes)
            .filter((c) => c.checked)
            .map((c) => c.value);
          checkboxOutput.textContent = `Checked: ${
            selected.length ? selected.join(", ") : "None"
          }`;
        })
      );

      // Radio Buttons
      const radioOutput = document.getElementById("radioOutput");
      const radios = document.querySelectorAll(".radio-group input");
      radios.forEach((r) =>
        r.addEventListener("change", () => {
          const selected = Array.from(radios).find((r) => r.checked);
          radioOutput.textContent = `Selected: ${selected ? selected.value : "None"}`;
        })
      );

      // Dropdown
      const dropdownMenu = document.getElementById("dropdownMenu");
      const dropdownOutput = document.getElementById("dropdownOutput");
      dropdownMenu.addEventListener("change", () => {
        dropdownOutput.textContent = dropdownMenu.value
          ? `Selected: ${dropdownMenu.value}`
          : "No option selected";
      });

      // Toggle Switch
      const toggleSwitch = document.getElementById("toggleSwitch");
      const toggleOutput = document.getElementById("toggleOutput");
      toggleSwitch.addEventListener(
        "change",
        () =>
          (toggleOutput.textContent = `Toggle is ${toggleSwitch.checked ? "ON" : "OFF"}`)
      );

      // Textarea
      const textarea = document.getElementById("textArea");
      const textareaOutput = document.getElementById("textareaOutput");
      textarea.addEventListener(
        "input",
        () => (textareaOutput.textContent = `Typed text: ${textarea.value}`)
      );

      // Button with data-testid
      const testIdButton = document.getElementById("testIdButton");
      const testIdOutput = document.getElementById("testIdOutput");
      testIdButton.addEventListener(
        "click",
        () => (testIdOutput.textContent = "Data-testid button clicked")
      );

      // Product List
      const products = document.querySelectorAll(".product-item");
      const selectedProducts = document.getElementById("selectedProducts");
      products.forEach((item) =>
        item.addEventListener("click", () => {
          item.classList.toggle("selected");
          const selected = Array.from(
            document.querySelectorAll(".product-item.selected")
          ).map((i) => i.textContent);
          selectedProducts.textContent = selected.length
            ? `Selected products: ${selected.join(", ")}`
            : "No products selected";
        })
      );
      const productSearch = document.getElementById("productSearch");
      productSearch.addEventListener("input", () => {
        const term = productSearch.value.toLowerCase();
        products.forEach(
          (p) =>
            (p.style.display = p.textContent.toLowerCase().includes(term) ? "" : "none")
        );
      });

      // Hover Menu
      const hoverOutput = document.getElementById("hoverOutput");
      const submenuItem = document.getElementById("submenuItem");
      submenuItem.addEventListener(
        "click",
        () => (hoverOutput.textContent = "Submenu clicked!")
      );

      // Keyboard Actions
      const keyboardInput = document.getElementById("keyboardInput");
      const keyboardOutput = document.getElementById("keyboardOutput");
      keyboardInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          keyboardOutput.textContent = `${keyboardInput.value} + Enter pressed`;
          e.preventDefault();
        }
      });
      keyboardInput.addEventListener("input", () => {
        keyboardOutput.textContent = keyboardInput.value;
      });

      // Mouse Actions Drag
      const mouseBox = document.getElementById("mouseBox");
      const dropZone = document.getElementById("dropZone");
      const mouseOutput = document.getElementById("mouseOutput");

      mouseBox.addEventListener("mousedown", (e) => {
        e.preventDefault();
        const offsetX = e.clientX - mouseBox.getBoundingClientRect().left;
        const offsetY = e.clientY - mouseBox.getBoundingClientRect().top;

        function mouseMoveHandler(e) {
          mouseBox.style.left =
            e.clientX -
            offsetX -
            mouseBox.parentElement.getBoundingClientRect().left +
            "px";
          mouseBox.style.top =
            e.clientY -
            offsetY -
            mouseBox.parentElement.getBoundingClientRect().top +
            "px";
        }

        function mouseUpHandler() {
          const boxRect = mouseBox.getBoundingClientRect();
          const zoneRect = dropZone.getBoundingClientRect();

          if (
            boxRect.left + boxRect.width / 2 > zoneRect.left &&
            boxRect.left + boxRect.width / 2 < zoneRect.right &&
            boxRect.top + boxRect.height / 2 > zoneRect.top &&
            boxRect.top + boxRect.height / 2 < zoneRect.bottom
          ) {
            mouseOutput.textContent = "Mouse action: Drag & Drop successful!";
          } else {
            mouseOutput.textContent = "Drag & Drop failed";
            mouseBox.style.left = "0px";
            mouseBox.style.top = "0px";
          }

          document.removeEventListener("mousemove", mouseMoveHandler);
          document.removeEventListener("mouseup", mouseUpHandler);
        }

        document.addEventListener("mousemove", mouseMoveHandler);
        document.addEventListener("mouseup", mouseUpHandler);
      });

      // Todo Drag & Drop
      const dragItems = document.querySelectorAll(".drag-item");
      const todoList = document.getElementById("todoList");
      const doneList = document.getElementById("doneList");
      let draggedItem = null;

      dragItems.forEach((item) => {
        item.addEventListener("dragstart", () => {
          draggedItem = item;
          item.classList.add("dragging");
        });
        item.addEventListener("dragend", () => {
          draggedItem = null;
          item.classList.remove("dragging");
        });
      });

      function dragOverHandler(e) {
        e.preventDefault();
        this.classList.add("over");
      }

      function dragLeaveHandler() {
        this.classList.remove("over");
      }

      function dropHandler() {
        this.classList.remove("over");
        if (draggedItem) {
          this.appendChild(draggedItem);
        }
      }

      [todoList, doneList].forEach((list) => {
        list.addEventListener("dragover", dragOverHandler);
        list.addEventListener("dragleave", dragLeaveHandler);
        list.addEventListener("drop", dropHandler);
      });

      // WAITING FOR ELEMENTS
      setTimeout(
        () => (document.getElementById("welcomeMessage").style.display = "block"),
        1000
      );
      document.getElementById("loadDataButton").addEventListener("click", () => {
        const dataDiv = document.getElementById("data");
        dataDiv.textContent = "Loading data...";
        setTimeout(() => (dataDiv.textContent = "Data loaded successfully!"), 1500);
      });
      document.getElementById("nextStepButton").addEventListener("click", () => {
        const btn = document.getElementById("nextStepButton");
        btn.disabled = true;
        btn.textContent = "Processing...";
        setTimeout(() => {
          btn.textContent = "Step Completed!";
          btn.disabled = false;
        }, 2000);
      });

      // New Tab / Window
      const openNewTabBtn = document.getElementById("openNewTabBtn");
      const newTabOutput = document.getElementById("newTabOutput");

      openNewTabBtn.addEventListener("click", () => {
        const newWindow = window.open("", "_blank");

        newWindow.document.write(`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <title>New Tab Page</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
          }
          .card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            text-align: center;
          }
          h1 {
            color: #764ba2;
          }
        </style>
      </head>
      <body>
        <div class="card">
          <h1 id="newTabTitle">Welcome to the New Tab</h1>
          <p>This page was opened in a new tab.</p>
        </div>
      </body>
    </html>
  `);

        newWindow.document.close();
        newTabOutput.textContent = "New tab opened successfully";
      });

      // File Upload
      const fileUpload = document.getElementById("fileUpload");
      const uploadOutput = document.getElementById("uploadOutput");

      fileUpload.addEventListener("change", () => {
        const files = Array.from(fileUpload.files); // convert FileList to array
        if (files.length === 0) {
          uploadOutput.textContent = "No file selected";
        } else {
          // Display all selected file names
          uploadOutput.textContent =
            "Selected files: " + files.map((f) => f.name).join(", ");
        }
      });

      // File Download
      const downloadBtn = document.getElementById("downloadBtn");
      const downloadOutput = document.getElementById("downloadOutput");

      downloadBtn.addEventListener("click", () => {
        const content = "This is a sample file for Playwright download practice.";
        const blob = new Blob([content], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "sample.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        downloadOutput.textContent = "Download initiated!";
      });
    </script>
  </body>
</html>
